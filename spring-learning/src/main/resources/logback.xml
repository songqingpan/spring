<!--<configuration xmlns="http://ch.qos.logback/xml/ns/logback"-->
<!--               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"-->
<!--               xsi:schemaLocation="http://ch.qos.logback/xml/ns/logback-->
<!--               https://raw.githubusercontent.com/enricopulatzo/logback-XSD/master/src/main/xsd/logback.xsd">-->
<configuration>

	<!--1.控制台输出appender-->
	<appender name="CONSOLE_OUT" class="ch.qos.logback.core.ConsoleAppender">
		<!--设置输出格式-->
		<encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
			<!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符-->
			<pattern>%d{yyyy-MM-dd HH:mm:ss} ---------- [%-5level] [%logger{50} : %-3line] - %msg%n</pattern>
			<!--设置编码-->
			<charset>UTF-8</charset>
		</encoder>
	</appender>

	<!-- 2.文件日志输出 -->
	<!--设置存储路径变量-->
	<!--<property name="LOG_PATH" value="E:/MyLog"/>-->
	<property name="LOG_PATH" value="/E/usr/local/logs"/>
	<!-- 定义日志文件名称 -->
	<property name="APP_NAME" value="spring-learning"/>

	<!--文件输出,时间窗口滚动-->
	<appender name="FILE_OUT" class="ch.qos.logback.core.rolling.RollingFileAppender">
		<!--日志名,指定最新的文件名，其他文件名使用FileNamePattern -->
		<file>${LOG_PATH}/${APP_NAME}.log</file>
		<!--文件滚动模式-->
		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<!--日志文件输出的文件名,可设置文件类型为gz,开启文件压缩-->
			<fileNamePattern>${LOG_PATH}/${APP_NAME}-%d{yyyy-MM-dd}-%i.log</fileNamePattern>
			<!--日志文件保留天数-->
			<maxHistory>365</maxHistory>
			<!--按大小分割同一天的-->
			<timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
				<maxFileSize>100MB</maxFileSize>
			</timeBasedFileNamingAndTriggeringPolicy>
		</rollingPolicy>

		<!--输出格式-->
		<encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
			<!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符-->
			<pattern>%d{yyyy-MM-dd HH:mm:ss} ---------- [%-5level] [%logger{50} : %-3line] - %msg%n</pattern>
			<!--设置编码-->
			<charset>UTF-8</charset>
		</encoder>
	</appender>


		<logger name="com.xiaopan" level="info" additivity="false">
			<appender-ref ref="CONSOLE_OUT"/>
		</logger>

		<root level="info">
			<!--appender将会添加到这个logger-->
			<appender-ref ref="CONSOLE_OUT"/>
		</root>

</configuration>